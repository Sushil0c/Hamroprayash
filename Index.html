<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text to Speech Converter</title>
</head>
<body>
  <textarea id="text-input" rows="10" placeholder="Enter text to convert"></textarea>
  <br>
  <select id="voice-select">
<option value="21m00Tcm4TlvDq8ikWAM">Rachel</option>
<option value="29vD33N1CtxCmqQRPOHJ">Drew</option>
<option value="2EiwWnXFnvU5JabPnv8n">Clyde</option>
<option value="AZnzlk1XvdvUeBnXmlld">Domi</option>
<option value="D38z5RcWu1voky8WS1ja">Fin</option>
<option value="EXAVITQu4vr4xnSDxMaL">Sarah</option>
<option value="ErXwobaYiN019PkySvjV">Antoni</option>
<option value="GBv7mTt0atIp3Br8iCZE">Thomas</option>
<option value="IKne3meq5aSn9XLyUdCD">Charlie</option>
<option value="JBFqnCBsd6RMkjVDRZzb">George</option>
<option value="LcfcDJNUP1GQjkzn1xUU">Emily</option>
<option value="MF3mGyEYCl7XYWbV9V6O">Elli</option>
<option value="N2lVS1w4EtoT3dr4eOWO">Callum</option>
<option value="ODq5zmih8GrVes37Dizd">Patrick</option>
<option value="SOYHLrjzK2X1ezoPC6cr">Harry</option>
<option value="TX3LPaxmHKxFdv7VOQHJ">Liam</option>
<option value="ThT5KcBeYPX3keUQqHPh">Dorothy</option>
<option value="TxGEqnHWrfWFTfGW9XjX">Josh</option>
<option value="VR6AewLTigWG4xSOukaG">Arnold</option>
<option value="XB0fDUnXU5powFXDhCwa">Charlotte</option>
<option value="Xb7hH8MSUJpSbSDYk0k2">Alice</option>
<option value="XrExE9yKIg1WjnnlVkGX">Matilda</option>
<option value="Yko7PKHZNXotIFUBG7I9">Matthew</option>
<option value="ZQe5CZNOzWyzPSCn5a3c">James</option>
<option value="Zlb1dXrM653N07WRdFW3">Joseph</option>
<option value="bVMeCyTHy58xNoL34h3p">Jeremy</option>
<option value="flq6f7yk4E4fJM5XTYuZ">Michael</option>
<option value="g5CIjZEefAph4nQFvHAz">Ethan</option>
<option value="iP95p4xoKVk53GoZ742B">Chris</option>
<option value="jBpfuIE2acCO8z3wKNLl">Gigi</option>
<option value="jsCqWAovK2LkecY7zXl4">Freya</option>
<option value="nPczCjzI2devNBz1zQrb">Brian</option>
<option value="oWAxZDx7w5VEj9dCyTzz">Grace</option>
<option value="onwK4e9ZLuTAKqWW03F9">Daniel</option>
<option value="pFZP5JQG7iQjIQuC4Bku">Lily</option>
<option value="pMsXgVXv3BLzUgSXRplE">Serena</option>
<option value="pNInz6obpgDQGcFmaJgB">Adam</option>
<option value="piTKgcLEGmPE4e6mEKli">Nicole</option>
<option value="pqHfZKP75CvOlQylNhV4">Bill</option>
<option value="t0jbNlBVZ17f02VDIeMI">Jessie</option>
<option value="yoZ06aMxZJJ28mfd3POQ">Sam</option>
<option value="z9fAnlkpzviPz146aGWa">Glinda</option>
<option value="zcAOhNBS3c14rBihAFp1">Giovanni</option>
<option value="zrHiDhphv9ZnVXBqCLjz">Mimi</option>
  </select>
  <br>
  <button id="convert-button">Convert to Audio</button>

  <script>
    const textInput = document.getElementById('text-input');
    const convertButton = document.getElementById('convert-button');
    const voiceSelect = document.getElementById('voice-select');

    convertButton.addEventListener('click', async () => {
      const text = textInput.value;

      if (text.trim() === '') {
        alert('Please enter some text to convert.');
        return;
      }

      const apiKey = 'e296c0ba461459ffa38b58619b7a30c1';
      const voiceId = voiceSelect.value;
      const url = `https://api.elevenlabs.io/speech`;

      const data = {
        text,
        voice: voiceId,
      };

      try {
        convertButton.textContent = 'Generating Audio...';
        convertButton.disabled = true; // Disable button while processing

        const response = await fetch(url, {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });

        if (!response.ok) {
          throw new Error(`Error: ${response.status}`);
        }

        const audioData = await response.blob();
        const audioUrl = URL.createObjectURL(audioData);
        const audioElement = new Audio(audioUrl);

        audioElement.onloadedmetadata = () => {
          convertButton.textContent = 'Play Audio';
          convertButton.disabled = false;
        };

        audioElement.play();
      } catch (error) {
        console.error('Error:', error);
        alert('An error occurred. Please try again later.');
        convertButton.textContent = 'Convert to Audio';
        convertButton.disabled = false;
      }
    });
  </script>
</body>
</html>